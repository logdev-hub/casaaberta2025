<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Como Criar Prompts para V√≠deos com IA (VEO 3) ‚Äî Oficina Interativa</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root{
      --brand-1:#0f172a; /* slate-900 */
      --brand-2:#1e293b; /* slate-800 */
      --brand-3:#38bdf8; /* sky-400 */
      --brand-4:#22c55e; /* green-500 */
      --brand-5:#f59e0b; /* amber-500 */
      --soft:#f8fafc;
    }
    body{background: var(--soft);}
    .hero{
      background: radial-gradient(1200px 400px at 10% -20%, #67e8f9 0%, rgba(103,232,249,0) 60%),
                  linear-gradient(135deg, var(--brand-2), var(--brand-1) 60%);
      color:#fff;
      border-bottom: 4px solid rgba(255,255,255,.08);
    }
    .pill{border:1px solid rgba(255,255,255,.25); color:#fff;padding:.35rem .7rem;border-radius:999px;display:inline-flex;align-items:center;gap:.4rem}
    .glass{
      background: rgba(255,255,255,.88);
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 20px rgba(2,6,23,.08);
      border: 1px solid rgba(15,23,42,.06);
    }
    .codebox{
      white-space:pre-wrap;background:#0b1020;color:#e5e7eb;border-radius:.75rem;padding:1rem;border:1px solid rgba(255,255,255,.08);
    }
    .badge-soft{background:#e2e8f0;color:#0f172a}
    .nav-pills .nav-link.active{background: var(--brand-3); color:#0b1020;font-weight:600}
    .nav-pills .nav-link{color:#0f172a}
    textarea{min-height:110px}
    .small-muted{font-size:.85rem;color:#475569}
    .footer-note{color:#64748b}
    .example-card{border-left:4px solid var(--brand-4)}
    .help-bubble{background:#ecfeff;border:1px dashed #67e8f9;padding:.6rem;border-radius:.5rem}
    .q-label{font-weight:600}
    .q-tip{font-size:.85rem;color:#475569}
    .copy-btn{position:absolute;right:1rem;top:.75rem}
  </style>
</head>
<body>
  <header class="hero py-5">
    <div class="container">
      <div class="row align-items-center g-4">
        <div class="col-lg-8">
          <h1 class="display-5 fw-bold">üöÄ Como Criar Prompts para V√≠deos com IA (VEO 3)</h1>
          <p class="lead mb-3">Desperte sua criatividade e transforme ideias em v√≠deos de 8 segundos com prompts claros, poderosos e f√°ceis de usar no VEO 3.</p>
          <div class="d-flex flex-wrap gap-2">
            <span class="pill"><i class="bi bi-clock"></i><strong>Tempo:</strong> 13:30‚Äì14:15</span>
            <span class="pill"><i class="bi bi-people"></i><strong>Vagas:</strong> at√© 30 participantes</span>
            <span class="pill"><i class="bi bi-camera-reels"></i>Oficina pr√°tica ‚Ä¢ pt-BR üé¨</span>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="glass rounded-3 p-3">
            <h6 class="mb-2"><i class="bi bi-info-circle"></i> Objetivo</h6>
            <p class="mb-2 small">Aprender (na pr√°tica) a escrever prompts para cenas de 8s no VEO 3 usando 20 perguntas-guia, com dicas, exemplos e um gerador autom√°tico de sa√≠da.</p>
            <ul class="small mb-0">
              <li>üéØ Sa√≠da final em <strong>Markdown (ingl√™s)</strong>; falas em <strong>pt-BR</strong>; <strong>sem legendas</strong>.</li>
              <li>üß≠ Fluxo: perguntas ‚Üí resumo breve ‚Üí gera√ß√£o da sa√≠da final com <strong>Q&A</strong>.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="py-4">
    <div class="container">
      <ul class="nav nav-pills mb-4" id="workshopTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="fund-tab" data-bs-toggle="pill" data-bs-target="#fund" type="button" role="tab">Fundamentos & Dicas üí°</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="wizard-tab" data-bs-toggle="pill" data-bs-target="#wizard" type="button" role="tab">Question√°rio VEO3 üß©</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="examples-tab" data-bs-toggle="pill" data-bs-target="#examples" type="button" role="tab">Exemplos üéØ</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="promptbase-tab" data-bs-toggle="pill" data-bs-target="#promptbase" type="button" role="tab">Prompt Base üìã</button>
        </li>
      </ul>

      <div class="tab-content">
        <!-- Fundamentos -->
        <section class="tab-pane fade show active" id="fund" role="tabpanel" aria-labelledby="fund-tab">
          <div class="row g-4">
            <div class="col-lg-7">
              <div class="glass rounded-3 p-3">
                <h5 class="mb-3">As 20 perguntas ‚Äî vers√£o otimizada</h5>
                <div class="accordion" id="fundAccordion"></div>
              </div>
            </div>
            <div class="col-lg-5">
              <div class="glass rounded-3 p-3">
                <h6 class="mb-2">Como usar na oficina üõ†Ô∏è</h6>
                <ol class="small">
                  <li>Leia as dicas de cada pergunta e pense na <strong>inten√ß√£o visual e sonora</strong>.</li>
                  <li>Na aba <strong>Question√°rio VEO3</strong>, responda todas as 20 perguntas (sem etapas/efeitos).</li>
                  <li>Escreva um <strong>resumo de 2‚Äì3 frases</strong> e gere a <strong>sa√≠da final</strong> em Markdown.</li>
                  <li>Copie o texto com <strong>um clique</strong> e cole no GPT/IA de sua escolha.</li>
                </ol>
                <div class="help-bubble small">
                  Dica: falas em pt-BR devem caber em ~4s. Evite n√∫meros que possam ‚Äúenvelhecer‚Äù r√°pido, a menos que seja intencional (ex.: jornalismo).
                </div>
              </div>
              <div class="glass rounded-3 p-3 mt-3">
                <h6 class="mb-2">Restri√ß√µes da entrega üö¶</h6>
                <ul class="small mb-0">
                  <li>Sem legendas, on-screen text ou lower-thirds.</li>
                  <li>1080p, 16:9, 30fps (ajuste se necess√°rio).</li>
                  <li>√Åudio ambiente com ducking durante fala (~-8 dB).</li>
                  <li>Evite logomarcas e rostos identific√°veis sem autoriza√ß√£o.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- Question√°rio (sem efeitos entre perguntas) -->
        <section class="tab-pane fade" id="wizard" role="tabpanel" aria-labelledby="wizard-tab">
          <div class="glass rounded-3 p-3 mb-3">
            <div class="d-flex align-items-center justify-content-between mb-2">
              <h5 class="mb-0">Construa sua cena de 8s üß™</h5>
              <div class="d-flex gap-2">
                <button class="btn btn-sm btn-outline-secondary" id="btnRandom"><i class="bi bi-stars"></i> Surpreenda-me</button>
                <button class="btn btn-sm btn-outline-primary" id="btnReset"><i class="bi bi-arrow-counterclockwise"></i> Reset</button>
              </div>
            </div>
            <div id="formContainer" class="row g-3"></div>
            <div class="mt-3">
              <label class="form-label">Resumo breve da cena (2‚Äì3 frases) <span class="badge badge-soft">opcional</span></label>
              <textarea class="form-control" id="resumo" placeholder="Escreva um resumo objetivo da cena..."></textarea>
            </div>
            <div class="d-flex flex-wrap gap-2 mt-3">
              <button class="btn btn-success" id="btnGenerate"><i class="bi bi-magic"></i> Gerar Sa√≠da Final</button>
              <button class="btn btn-outline-dark" id="btnCopyOutput" disabled><i class="bi bi-clipboard-check"></i> Copiar Sa√≠da</button>
              <button class="btn btn-outline-secondary" id="btnDownload" disabled><i class="bi bi-download"></i> Baixar .md</button>
            </div>
          </div>

          <div class="glass rounded-3 p-3" id="outputPanel" style="display:none;">
            <div class="position-relative">
              <button class="btn btn-sm btn-dark copy-btn" id="btnCopyOutputTop"><i class="bi bi-clipboard"></i> Copiar</button>
              <h6 class="mb-2">Sa√≠da (Markdown em ingl√™s; falas em pt-BR; sem emojis) + Q&A</h6>
              <pre class="codebox" id="finalOutput"></pre>
            </div>
          </div>
        </section>

        <!-- Examples -->
        <section class="tab-pane fade" id="examples" role="tabpanel" aria-labelledby="examples-tab">
          <div class="row g-3">
            <div class="col-lg-4">
              <div class="glass rounded-3 p-3 example-card">
                <h6>Exemplo 1 ‚Äî Caf√© Aconchegante ‚òï</h6>
                <p class="small-muted">Barista em close m√©dio, tarde chuvosa, luz quente suave, vapor vis√≠vel.</p>
                <div class="d-flex gap-2">
                  <button class="btn btn-sm btn-primary load-example" data-example="1"><i class="bi bi-upload"></i> Carregar no Question√°rio</button>
                  <button class="btn btn-sm btn-outline-secondary preview-example" data-example="1"><i class="bi bi-eye"></i> Pr√©-visualizar</button>
                </div>
                <div class="mt-2 small">
                  <details>
                    <summary>Ver Markdown de pr√©via</summary>
                    <pre class="codebox mt-2" id="prev-1"></pre>
                  </details>
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="glass rounded-3 p-3 example-card">
                <h6>Exemplo 2 ‚Äî Rua de S√£o Paulo üö¶</h6>
                <p class="small-muted">Entrevistado em plano m√©dio com tr√°fego ao fundo; fim de tarde; tom documental.</p>
                <div class="d-flex gap-2">
                  <button class="btn btn-sm btn-primary load-example" data-example="2"><i class="bi bi-upload"></i> Carregar no Question√°rio</button>
                  <button class="btn btn-sm btn-outline-secondary preview-example" data-example="2"><i class="bi bi-eye"></i> Pr√©-visualizar</button>
                </div>
                <div class="mt-2 small">
                  <details>
                    <summary>Ver Markdown de pr√©via</summary>
                    <pre class="codebox mt-2" id="prev-2"></pre>
                  </details>
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="glass rounded-3 p-3 example-card">
                <h6>Exemplo 3 ‚Äî Est√∫dio Minimalista üéôÔ∏è</h6>
                <p class="small-muted">Plano fixo, fundo neutro, key light suave; foco total na fala.</p>
                <div class="d-flex gap-2">
                  <button class="btn btn-sm btn-primary load-example" data-example="3"><i class="bi bi-upload"></i> Carregar no Question√°rio</button>
                  <button class="btn btn-sm btn-outline-secondary preview-example" data-example="3"><i class="bi bi-eye"></i> Pr√©-visualizar</button>
                </div>
                <div class="mt-2 small">
                  <details>
                    <summary>Ver Markdown de pr√©via</summary>
                    <pre class="codebox mt-2" id="prev-3"></pre>
                  </details>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Prompt Base -->
        <section class="tab-pane fade" id="promptbase" role="tabpanel" aria-labelledby="promptbase-tab">
          <div class="glass rounded-3 p-3">
            <h5 class="mb-3">Question√°rio VEO3 (20 perguntas) ‚Äî copiar e colar</h5>
            <div class="position-relative">
              <button class="btn btn-sm btn-dark copy-btn" data-copy-target="#questionnaireText"><i class="bi bi-clipboard"></i> Copiar</button>
<pre class="codebox" id="questionnaireText">1) Onde exatamente se passa a cena? (local, ponto de refer√™ncia, hor√°rio do dia, clima)
2) Qual o estilo/atmosfera do ambiente? (ex.: documental, cinematogr√°fico, hiper-realista)
3) Quais elementos essenciais de cen√°rio aparecem? (liste 5‚Äì8; indique se h√° logomarcas/rostos a evitar)
4) Texturas e materiais predominantes? (metal, vidro, concreto, etc.)
5) Profundidade/composi√ß√£o? (camadas, bokeh, regra dos ter√ßos, headroom/lead room)
6) Quem √© o personagem principal? (idade, g√™nero, etnia, papel)
7) Apar√™ncia f√≠sica? (pele, cabelo, olhos, marcas; n√≠vel de energia)
8) Vestu√°rio e acess√≥rios? (cores que harmonizam com o ambiente)
9) Express√£o e postura? (sereno, tenso; ereto, inclinado; olhar para/fora da c√¢mera)
10) Gestos e microa√ß√µes? (apontar, acenar, leve √™nfase com a m√£o)
11) O que acontece exatamente em 8s? Descreva em timeline:
    - 0,0‚Äì2,0s:
    - 2,0‚Äì4,0s:
    - 4,0‚Äì6,0s:
    - 6,0‚Äì8,0s:
12) Ritmo da a√ß√£o? (lento, moderado, fren√©tico)
13) Enquadramento e c√¢mera? (plano, √¢ngulo, posi√ß√£o; 16:9; 24/30fps; refer√™ncia de lente ex.: ~50mm equivalente)
14) Movimento de c√¢mera? (parada, leve pan/tilt, dolly/steadicam; velocidade aproximada)
15) Ilumina√ß√£o? (natural/artificial; dire√ß√£o; difus√£o; hora do dia)
16) Cor e contraste? (quente/frio, sombras/reflexos, LUT/grade desejado)
17) Paleta de cores dominante? (3‚Äì6 cores)
18) Som ambiente e SFX? (liste; defina ducking do ambiente durante fala, ex.: -8 dB)
19) H√° fala? Se sim, descreva:
    - Voz (masculina/feminina, idade, sotaque)
    - Texto exato da fala (em pt-BR, at√© ~4s de dura√ß√£o)
    - Tom emocional (firme, calmo, urgente)
20) Clima emocional geral e restri√ß√µes? (tens√£o, esperan√ßa; privacidade, blur de terceiros, evitar logos)</pre>
            </div>
          </div>

          <div class="glass rounded-3 p-3 mt-3">
            <h5 class="mb-2">Prompt do Assistente (vers√£o resumida) ‚Äî copiar e colar</h5>
            <p class="small-muted">Inclui gatilho ‚ÄúVEO3‚Äù, coleta das respostas, pedido de resumo e gera√ß√£o da sa√≠da final em Markdown (ingl√™s), com falas em pt-BR e sem legendas.</p>
            <div class="position-relative">
              <button class="btn btn-sm btn-dark copy-btn" data-copy-target="#systemPrompt"><i class="bi bi-clipboard"></i> Copiar</button>
<pre class="codebox" id="systemPrompt">You are ‚ÄúVEO3 Scene Builder‚Äù, a specialist assistant that designs 8-second scenes for VEO 3.
TRIGGER: When the user types ‚ÄúVEO3‚Äù, ask the 20 questions (pt-BR). Accept free-form answers. Then ask for a 2‚Äì3 sentence summary (pt-BR). Finally, output an English Markdown scene sheet (no emojis), keeping any spoken line in pt-BR and forbidding on-screen text/subtitles.
Constraints: 1080p, 16:9, 30fps by default; single take; ambience ducked ~8 dB under dialogue; avoid logos and identifiable third-party faces when requested.</pre>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <footer class="py-4">
    <div class="container text-center">
      <div class="small footer-note">Feito para a oficina: <strong>Como Criar Prompts para V√≠deos com IA (VEO 3)</strong> ‚Ä¢ Entrega final: Markdown (ingl√™s), falas em pt-BR, sem legendas ‚Ä¢ Inclui Q&A completo.</div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
  // ---------- Data for 20 questions with succinct tips ----------
  const QUESTIONS = [
    { label: "1) Onde a cena se passa?", tip: "Local exato, refer√™ncia vis√≠vel, hor√°rio e clima. Ex.: 'Cais do Porto de Santos, 15h, nublado'." },
    { label: "2) Estilo/atmosfera do ambiente", tip: "Documental, cinematogr√°fico, hiper-realista, etc." },
    { label: "3) Elementos essenciais de cen√°rio", tip: "Liste 5‚Äì8 itens relevantes e restri√ß√µes (logos/rostos)." },
    { label: "4) Texturas e materiais", tip: "Metal, vidro, concreto, madeira, asfalto‚Ä¶" },
    { label: "5) Profundidade e composi√ß√£o", tip: "Camadas, bokeh, regra dos ter√ßos, headroom/lead room." },
    { label: "6) Quem √© o personagem principal?", tip: "Idade, g√™nero, etnia e papel." },
    { label: "7) Apar√™ncia f√≠sica", tip: "Pele, cabelo, olhos, marcas; energia." },
    { label: "8) Vestu√°rio e acess√≥rios", tip: "Cores que harmonizam com a paleta; itens-chave visuais." },
    { label: "9) Express√£o e postura", tip: "Ex.: s√©rio por√©m composto; ereto; olhar para/fora da c√¢mera." },
    { label: "10) Gestos e microa√ß√µes", tip: "Apontar, acenar, √™nfase leve com a m√£o; evite excessos." },
    { label: "11) Timeline de 8s (0‚Äì8s)", tip: "Descreva 0‚Äì2s, 2‚Äì4s, 4‚Äì6s, 6‚Äì8s." },
    { label: "12) Ritmo da a√ß√£o", tip: "Lento, moderado ou fren√©tico." },
    { label: "13) Enquadramento e c√¢mera", tip: "Plano, √¢ngulo, posi√ß√£o; 16:9; 24/30fps; lente ~mm." },
    { label: "14) Movimento de c√¢mera", tip: "Parada, leve pan/tilt, dolly/steadicam; velocidade." },
    { label: "15) Ilumina√ß√£o", tip: "Natural/artificial; dire√ß√£o; difus√£o; hora do dia." },
    { label: "16) Cor e contraste", tip: "Quente/frio; sombras/reflexos; LUT/grade (se houver)." },
    { label: "17) Paleta de cores dominante", tip: "3‚Äì6 cores principais." },
    { label: "18) Som ambiente e SFX", tip: "Sons e efeitos; ducking durante fala (ex.: -8 dB)." },
    { label: "19) Fala (pt-BR)", tip: "Texto exato (at√© ~4s), voz (sexo, idade, sotaque) e tom." },
    { label: "20) Clima emocional e restri√ß√µes", tip: "Tens√£o, esperan√ßa; privacidade, blur, evitar logos." }
  ];

  // ---------- Populate Fundamentals accordion ----------
  const fundAcc = document.getElementById('fundAccordion');
  QUESTIONS.forEach((q, i) => {
    const id = `fund-item-${i}`;
    fundAcc.insertAdjacentHTML('beforeend', `
      <div class="accordion-item">
        <h2 class="accordion-header" id="h-${id}">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#c-${id}" aria-expanded="false">
            ${q.label}
          </button>
        </h2>
        <div id="c-${id}" class="accordion-collapse collapse" aria-labelledby="h-${id}" data-bs-parent="#fundAccordion">
          <div class="accordion-body">
            <div class="q-tip">üí° ${q.tip}</div>
          </div>
        </div>
      </div>
    `);
  });

  // ---------- Build single-form questionnaire (no effects) ----------
  const formContainer = document.getElementById('formContainer');
  const answers = {};
  function renderForm(){
    formContainer.innerHTML = '';
    QUESTIONS.forEach((q, idx)=>{
      formContainer.insertAdjacentHTML('beforeend', `
        <div class="col-12">
          <label for="q-${idx+1}" class="form-label q-label">${q.label}</label>
          <div class="q-tip mb-2">Dica: ${q.tip}</div>
          <textarea class="form-control" id="q-${idx+1}" placeholder="Escreva aqui..."></textarea>
        </div>
      `);
    });
  }
  renderForm();

  // ---------- Random fill ----------
  const randomPool = {
    locais: ["Caf√© de bairro em S√£o Paulo, 17h, garoa fina", "Terra√ßo de pr√©dio no Centro, 08h, c√©u aberto", "Cais do porto, 15h, nublado", "Pra√ßa arborizada, 12h, luz dura"],
    estilos: ["documental", "cinematogr√°fico", "hiper-realista"],
    elementos: ["bancos de madeira, fachada com neon, m√°quina de espresso, x√≠caras empilhadas, janela com gotas de chuva"],
    texturas: ["madeira envernizada, metal escovado, vidro condensado"],
    comp: ["plano m√©dio, regra dos ter√ßos, fundo com bokeh leve"],
    pessoa: ["mulher, 28 anos, brasileira, barista", "homem, 55 anos, brasileiro, especialista portu√°rio"],
    apar: ["pele clara, cabelo castanho preso, olhos verdes, energia serena", "pele marcada de sol, cabelo grisalho curto, olhos castanhos, energia firme"],
    roupa: ["avental marrom, camisa creme, brincos pequenos", "colete refletivo laranja, camisa azul-clara, capacete branco"],
    exp: ["sorriso leve; postura ereta; olhar fora da c√¢mera", "s√©rio por√©m composto; olhar fora da c√¢mera"],
    gesto: ["apoia a x√≠cara no balc√£o e faz leve gesto com a m√£o", "aponta ao fundo e enfatiza com a m√£o"],
    timeline: ["0‚Äì2s: aproxima a x√≠cara; 2‚Äì4s: fala curta; 4‚Äì6s: leve gesto; 6‚Äì8s: respira e conclui"],
    ritmo: ["moderado", "lento"],
    cam: ["plano m√©dio; 16:9; 30fps; ~50mm; altura dos olhos"],
    mov: ["c√¢mera parada com microajuste de foco", "leve pan para a direita (lento)"],
    luz: ["luz natural difusa pela janela", "luz de c√©u nublado, sem sombras duras"],
    cor: ["temperatura quente; sombras suaves; sem reflexos fortes"],
    paleta: ["marrom, creme, cobre, √¢mbar", "azul-claro, cinza, laranja"],
    som: ["ambiente de cafeteria, porta abrindo, chuva leve; ducking -8 dB na fala"],
    fala: [
      "Voz feminina, 28, paulistana ‚Äî \"A gente transforma pequenas pausas em momentos de cuidado.\"" ,
      "Voz masculina, 55, paulistana ‚Äî \"Gargalos de infraestrutura atrasam toda a opera√ß√£o.\"" 
    ],
    clima: ["aconchego e foco", "tens√£o profissional; responsabilidade"],
  };
  function rp(a){ return a[Math.floor(Math.random()*a.length)]; }
  function fillRandom(){
    const rnd = [
      rp(randomPool.locais), rp(randomPool.estilos), rp(randomPool.elementos), rp(randomPool.texturas),
      rp(randomPool.comp), rp(randomPool.pessoa), rp(randomPool.apar), rp(randomPool.roupa),
      rp(randomPool.exp), rp(randomPool.gesto), rp(randomPool.timeline), rp(randomPool.ritmo),
      rp(randomPool.cam), rp(randomPool.mov), rp(randomPool.luz), rp(randomPool.cor),
      rp(randomPool.paleta), rp(randomPool.som), rp(randomPool.fala), rp(randomPool.clima)
    ];
    rnd.forEach((val, i)=>{
      document.getElementById(`q-${i+1}`).value = val;
      answers[i+1] = val;
    });
    document.getElementById('resumo').value = "Resumo conciso alinhado ao exemplo aleat√≥rio selecionado.";
  }
  document.getElementById('btnRandom').addEventListener('click', fillRandom);

  document.getElementById('btnReset').addEventListener('click', ()=>{
    Object.keys(answers).forEach(k=> delete answers[k]);
    document.querySelectorAll('textarea[id^="q-"]').forEach(el=> el.value='');
    document.getElementById('resumo').value='';
    document.getElementById('finalOutput').textContent='';
    document.getElementById('outputPanel').style.display='none';
    document.getElementById('btnCopyOutput').disabled = true;
    document.getElementById('btnCopyOutputTop').disabled = true;
    document.getElementById('btnDownload').disabled = true;
  });

  // ---------- Generate Final Output (includes Q&A) ----------
  function safe(val){ return (val||'').toString().trim(); }
  function splitTimeline(s){
    if(!s) return {a:'',b:'',c:'',d:''};
    const parts = s.split(/[\n;]+/).map(v=>v.trim()).filter(Boolean);
    return { a:parts[0]||'', b:parts[1]||'', c:parts[2]||'', d:parts[3]||'' };
  }
  function extractDialogue(q19){
    const m = q19.match(/["‚Äú](.+?)["‚Äù]/);
    const line = m ? m[1] : q19;
    return line.replace(/\n/g,' ').trim();
  }
  function makeTitle(loc, mood){
    const base = (loc||'Concise Scene').split(',')[0].trim();
    const moodWord = (mood||'').split(/[ ,]/)[0];
    return `${base} ‚Äî ${moodWord || 'Scene'}`;
  }
  function buildQnA(q){
    const qs = [
      "1) Onde exatamente se passa a cena?",
      "2) Qual o estilo/atmosfera do ambiente?",
      "3) Quais elementos essenciais de cen√°rio aparecem?",
      "4) Texturas e materiais predominantes?",
      "5) Profundidade/composi√ß√£o?",
      "6) Quem √© o personagem principal?",
      "7) Apar√™ncia f√≠sica?",
      "8) Vestu√°rio e acess√≥rios?",
      "9) Express√£o e postura?",
      "10) Gestos e microa√ß√µes?",
      "11) O que acontece exatamente em 8s? Timeline",
      "12) Ritmo da a√ß√£o?",
      "13) Enquadramento e c√¢mera?",
      "14) Movimento de c√¢mera?",
      "15) Ilumina√ß√£o?",
      "16) Cor e contraste?",
      "17) Paleta de cores dominante?",
      "18) Som ambiente e SFX?",
      "19) Fala (pt-BR)?",
      "20) Clima emocional e restri√ß√µes?"
    ];
    let block = "## Prompt Q&A (pt-BR)\n";
    for(let i=1;i<=20;i++){
      block += `**${qs[i-1]}**\n${safe(q[i])}\n\n`;
    }
    return block;
  }

  function collectAnswers(){
    const q = {};
    for(let i=1;i<=20;i++){
      q[i] = safe(answers[i] || document.getElementById(`q-${i}`)?.value);
    }
    return q;
  }

  function generateOutput(){
    const q = collectAnswers();
    const resumo = safe(document.getElementById('resumo').value);
    const tl = splitTimeline(q[11]);
    const title = makeTitle(q[1], q[2]);
    const dialogue = extractDialogue(q[19]);
    const qna = buildQnA(q);

    const md = `# ${title}
**Scene Setup:** ${resumo || 'An 8-second continuous shot built from the answers below.'}
Location & Atmosphere: ${q[1]} ‚Ä¢ ${q[2]}.
Key Set Elements: ${q[3]}.
Textures: ${q[4]}.
Background Activity & Privacy: ${q[20]}.
  
**Subject & Performance:** ${q[6]}. Appearance: ${q[7]}. Wardrobe: ${q[8]}. Expression/Posture: ${q[9]}. Gestures: ${q[10]}.
  
**Camera & Framing:** ${q[13]}.
  
**Movement:** ${q[14]}.
  
**Lighting & Color:** ${q[15]} ‚Ä¢ ${q[16]} ‚Ä¢ Palette: ${q[17]}.
  
**Audio:** Ambience/SFX: ${q[18]}. Mix: ambience ducked ~8 dB under dialogue. No on-screen text or subtitles.
  
## 8-Second Timeline
- 0.0‚Äì2.0s: ${tl.a}
- 2.0‚Äì4.0s: ${tl.b}
- 4.0‚Äì6.0s: ${tl.c}
- 6.0‚Äì8.0s: ${tl.d}
  
## Spoken Line (pt-BR)
‚Äú${dialogue}‚Äù
  
## Delivery Constraints
1080p; 16:9; 30fps; single take; dialogue intelligibility prioritized; remove/avoid visible logos and identifiable third-party faces where requested.

${qna}`;

    document.getElementById('finalOutput').textContent = md;
    document.getElementById('outputPanel').style.display = 'block';
    document.getElementById('btnCopyOutput').disabled = false;
    document.getElementById('btnCopyOutputTop').disabled = false;
    document.getElementById('btnDownload').disabled = false;
  }
  document.getElementById('btnGenerate').addEventListener('click', generateOutput);

  // Copy and download handlers
  document.getElementById('btnCopyOutput').addEventListener('click', ()=>{
    const txt = document.getElementById('finalOutput').textContent;
    navigator.clipboard.writeText(txt);
  });
  document.getElementById('btnCopyOutputTop').addEventListener('click', ()=>{
    const txt = document.getElementById('finalOutput').textContent;
    navigator.clipboard.writeText(txt);
  });
  document.querySelectorAll('[data-copy-target]').forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      const target = e.currentTarget.getAttribute('data-copy-target');
      const txt = document.querySelector(target)?.textContent || '';
      navigator.clipboard.writeText(txt);
    });
  });
  document.getElementById('btnDownload').addEventListener('click', ()=>{
    const txt = document.getElementById('finalOutput').textContent;
    const blob = new Blob([txt], {type:'text/markdown'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'veo3_scene.md';
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  });

  // ---------- Examples (load & preview must include Q&A) ----------
  const EXAMPLES = {
    1: {
      1:"Caf√© de bairro em S√£o Paulo, 17h, garoa fina",
      2:"cinematogr√°fico, aconchegante",
      3:"m√°quina de espresso, balc√£o de madeira, x√≠caras empilhadas, janela com gotas",
      4:"madeira envernizada, metal escovado, vidro condensado",
      5:"plano m√©dio; regra dos ter√ßos; fundo com bokeh leve",
      6:"mulher, 28 anos, brasileira, barista",
      7:"pele clara, cabelo castanho preso, olhos verdes; energia serena",
      8:"avental marrom, camisa creme, brincos pequenos",
      9:"sorriso leve; postura ereta; olhar levemente fora da c√¢mera",
      10:"apoia a x√≠cara no balc√£o, faz leve gesto com a m√£o",
      11:"0‚Äì2s: vapor sobe da x√≠cara; 2‚Äì4s: ela diz a linha; 4‚Äì6s: gesto sutil; 6‚Äì8s: pausa respirada",
      12:"moderado",
      13:"plano m√©dio; 16:9; 30fps; ~50mm; altura dos olhos",
      14:"c√¢mera parada; microajuste de foco",
      15:"luz natural difusa pela janela lateral; bounce suave",
      16:"quente, sombras suaves; sem reflexos fortes",
      17:"marrom, creme, cobre, √¢mbar",
      18:"ambiente de cafeteria, porta abrindo, chuva leve; ducking -8 dB",
      19:"Voz feminina, 28, paulistana ‚Äî \"A gente transforma pequenas pausas em momentos de cuidado.\"",
      20:"clima de aconchego; evitar logos de terceiros nas x√≠caras"
    },
    2: {
      1:"Avenida Paulista, 17h30, c√©u nublado leve; fluxo urbano intenso",
      2:"documental, realista",
      3:"√¥nibus, carros, pedestres, sem√°foros, fachadas comerciais",
      4:"asfalto molhado, metal, vidro, concreto",
      5:"plano m√©dio fechado com fundo desfocado, regra dos ter√ßos",
      6:"homem, 40 anos, brasileiro, analista de mobilidade",
      7:"pele parda, cabelo curto, olhos castanhos; energia assertiva",
      8:"camisa azul, jaqueta leve, mochila a tiracolo",
      9:"express√£o s√©ria; postura ereta; olhar fora da c√¢mera",
      10:"aponta para o tr√°fego ao fundo; √™nfase breve com a m√£o",
      11:"0‚Äì2s: sirene distante; 2‚Äì4s: fala curta; 4‚Äì6s: gesto; 6‚Äì8s: retorno ao foco",
      12:"moderado",
      13:"plano m√©dio; 16:9; 30fps; ~50mm",
      14:"leve pan para enquadrar melhor o fundo (lento)",
      15:"luz natural difusa (fim de tarde)",
      16:"neutra/fria; sombras leves",
      17:"azul, cinza, branco, vermelho pontual",
      18:"tr√°fego urbano, passos, sirene distante; ducking -8 dB",
      19:"Voz masculina, 40, paulistana ‚Äî \"Mobilidade eficiente come√ßa com dados e planejamento.\"",
      20:"tens√£o profissional; evitar logos em fachadas e blur de rostos de transeuntes"
    },
    3: {
      1:"Est√∫dio minimalista, fundo cinza neutro",
      2:"clean, focado na fala",
      3:"banco alto, microfone boom fora de quadro",
      4:"pano fosco, metal do suporte",
      5:"plano americano, centralizado; headroom controlado",
      6:"mulher, 35 anos, brasileira, apresentadora",
      7:"pele morena, cabelo cacheado curto, olhos castanhos; energia confiante",
      8:"blazer preto, camiseta branca, acess√≥rio discreto",
      9:"express√£o firme; postura ereta; contato direto com a c√¢mera",
      10:"gesto sutil com m√£o direita na √™nfase da fala",
      11:"0‚Äì2s: respira e encara; 2‚Äì4s: fala; 4‚Äì6s: breve gesto; 6‚Äì8s: fecha com micro-sorriso",
      12:"lento/moderado",
      13:"plano americano; 16:9; 30fps; ~50mm",
      14:"c√¢mera est√°tica",
      15:"key light suave 45¬∞, fill leve; fundo neutro",
      16:"ligeiramente quente; contraste moderado",
      17:"preto, branco, cinza",
      18:"ambiente controlado; sil√™ncio; ru√≠do de sala m√≠nimo",
      19:"Voz feminina, 35, neutra ‚Äî \"Ideias claras viram v√≠deos melhores.\"",
      20:"foco total na fala; sem marcas"
    }
  };

  function previewFromObject(ex){
    const tl = (ex[11]||"").split(/[\n;]+/);
    const title = (ex[1]||"Cena").split(',')[0] + " ‚Äî Preview";
    // Build Q&A block
    const qs = [
      "1) Onde exatamente se passa a cena?",
      "2) Qual o estilo/atmosfera do ambiente?",
      "3) Quais elementos essenciais de cen√°rio aparecem?",
      "4) Texturas e materiais predominantes?",
      "5) Profundidade/composi√ß√£o?",
      "6) Quem √© o personagem principal?",
      "7) Apar√™ncia f√≠sica?",
      "8) Vestu√°rio e acess√≥rios?",
      "9) Express√£o e postura?",
      "10) Gestos e microa√ß√µes?",
      "11) O que acontece exatamente em 8s? Timeline",
      "12) Ritmo da a√ß√£o?",
      "13) Enquadramento e c√¢mera?",
      "14) Movimento de c√¢mera?",
      "15) Ilumina√ß√£o?",
      "16) Cor e contraste?",
      "17) Paleta de cores dominante?",
      "18) Som ambiente e SFX?",
      "19) Fala (pt-BR)?",
      "20) Clima emocional e restri√ß√µes?"
    ];
    let qna = "## Prompt Q&A (pt-BR)\n";
    for(let i=1;i<=20;i++){ qna += `**${qs[i-1]}**\n${ex[i]||''}\n\n`; }

    return `# ${title}
**Scene Setup:** Location & Atmosphere: ${ex[1]} ‚Ä¢ ${ex[2]}.
Key Set Elements: ${ex[3]}. Textures: ${ex[4]}.
**Subject & Performance:** ${ex[6]}. Appearance: ${ex[7]}. Wardrobe: ${ex[8]}. Expression/Posture: ${ex[9]}. Gestures: ${ex[10]}.
**Camera & Framing:** ${ex[13]}. **Movement:** ${ex[14]}.
**Lighting & Color:** ${ex[15]} ‚Ä¢ ${ex[16]} ‚Ä¢ Palette: ${ex[17]}.
**Audio:** ${ex[18]}.
## 8-Second Timeline
- 0.0‚Äì2.0s: ${tl[0]||''}
- 2.0‚Äì4.0s: ${tl[1]||''}
- 4.0‚Äì6.0s: ${tl[2]||''}
- 6.0‚Äì8.0s: ${tl[3]||''}
## Spoken Line (pt-BR)
‚Äú${(ex[19]||'').replace(/^.*?[‚Äî-]\s*/,'')}‚Äù
## Delivery Constraints
1080p; 16:9; 30fps; single take; dialogue intelligibility prioritized; avoid logos and identifiable faces.

${qna}`;
  }

  document.querySelectorAll('.load-example').forEach(b=> b.addEventListener('click', e=>{
    const n = e.currentTarget.dataset.example;
    const ex = EXAMPLES[n];
    if(!ex) return;
    for(let i=1;i<=20;i++){
      const el = document.getElementById(`q-${i}`);
      if(el){ el.value = ex[i] || ''; answers[i]=ex[i] || ''; }
    }
    document.getElementById('resumo').value = "Resumo conciso alinhado ao exemplo selecionado.";
    // switch to questionnaire tab
    const tab = new bootstrap.Tab(document.querySelector('#wizard-tab'));
    tab.show();
  }));

  document.querySelectorAll('.preview-example').forEach(b=> b.addEventListener('click', e=>{
    const n = e.currentTarget.dataset.example;
    const ex = EXAMPLES[n];
    if(!ex) return;
    const md = previewFromObject(ex);
    document.getElementById(`prev-${n}`).textContent = md;
  }));
  </script>
</body>
</html>